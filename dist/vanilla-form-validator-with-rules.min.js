(function(){this.VanillaFormValidator=function(){function e(e,t){null==t&&(t={}),this.form=e,this.opts=this.defaultOpts(t),this.fields={}}var t;return t=/(\[|\]|\(|\))/g,e.rules={},e.prototype.addField=function(e,t){this.fields[e]=t},e.prototype.addFields=function(e){var t,r;for(t in e)r=e[t],this.addField(t,r)},e.prototype.removeField=function(e){delete this.fields[e]},e.prototype.reset=function(){var e,t;return t=this,this.clearErrorMessages(),e=this.form.cloneNode(!0),this.form.parentNode.replaceChild(e,this.form),this.form=e},e.prototype.initLive=function(e){var t,r,a,i,l,n,o,s,d,u,h;for(null==e&&(e={}),e.submit_btn=e.submit_btn||!1,e.direct_live=e.direct_live||!1,d=this,u=e.direct_live?!0:!1,h=function(){var e;return e=d.valid(),e||d.validate(),e},e.submit_btn?submit_btn.addEventListener("click",function(e){return u=!0,h()?void 0:e.preventDefault()}):this.form.addEventListener("submit",function(e){return u=!0,h()?void 0:e.preventDefault()}),i=this.form.querySelectorAll("input, textarea"),s=["change","keyup","focus"],r=0,n=s.length;n>r;r++)for(t=s[r],l=0,o=i.length;o>l;l++)a=i[l],a.addEventListener(t,function(e){return u?d.validate():void 0})},e.prototype.valid=function(){var e,t,r,a,i,l,n,o;l=this,a=!0,i=this.fields;for(t in i){r=i[t],e=this.getFieldValidity(t);for(n in e)if(o=e[n],!o){a=!1;break}}return a},e.prototype.getFieldValidity=function(e){var t,r,a,i,l,n,o,s;if(r=this.fields[e],t=this.getDomField(e),!t)return!1;s=t.value,o=r.validators||{},i={};for(l in o)n=o[l],a=this.constructor.rules[l],n.element=t,n.form=this.form,i[l]=a(s,n);return i},e.prototype.errors=function(){var e,t,r,a,i,l,n,o,s;n=this,l={},i=this.fields;for(t in i){r=i[t],e=this.getFieldValidity(t);for(o in e)s=e[o],s||l[t]||(a=r.validators[o].message||r.message||!1,l[t]=a)}return l},e.prototype.validate=function(){var e,t,r,a,i;i=this,this.clearErrorMessages(),a=this.errors();for(t in a)r=a[t],e=i.getDomField(t),i.appendErrorMessageOn(e,r)},e.prototype.appendErrorMessageOn=function(e,r){var a,i,l,n,o,s;s=this.opts.error_html_tag,l=document.createElement(s),n=("vanilla_validator_error_"+e.name).replace(t,"_"),l.classList.add(this.opts.error_html_tag_class),l.id=n,l.innerHTML=r,o=this.opts.error_html_tag_styles;for(a in o)i=o[a],l.style[a]=i;return e.classList.add("vanilla-validator-error"),e.parentNode.insertBefore(l,e.nextSibling),e},e.prototype.clearErrorMessages=function(){var e,r,a,i,l,n;for(n=this.form.elements,i=0,l=n.length;l>i;i++)e=n[i],e.name&&e.type&&"submit"!==e.type&&(a=("#vanilla_validator_error_"+e.name).replace(t,"_"),r=this.form.querySelector(a),r&&(e.classList.remove("vanilla-validator-error"),r.parentNode.removeChild(r)))},e.prototype.getDomField=function(e){return this.form[e]},e.addRule=function(e,t){this.rules[e]=t},e.prototype.defaultOpts=function(e){var t,r,a;t={error_html_tag:"small",error_html_tag_class:["vanilla_validator_error"],error_html_tag_styles:{color:"red","font-size":"0.8em",display:"block"}};for(r in e)a=e[r],t[r]=a;return t},e}()}).call(this),function(){VanillaFormValidator.addRule("color",function(e,t){var r,a,i,l,n;if(""===e)return!0;switch(r=t.format||"hex"){case"hex":return i=/^#[0-9A-F]{6}$/i,i.test(e);case"hsl":return i=/^hsl\((\s*(-?\d+)\s*,)(\s*(\b(0?\d{1,2}|100)\b%)\s*,)(\s*(\b(0?\d{1,2}|100)\b%)\s*)\)$/,i.test(e);case"hsla":return i=/^hsla\((\s*(-?\d+)\s*,)(\s*(\b(0?\d{1,2}|100)\b%)\s*,){2}(\s*(0?(\.\d+)?|1(\.0+)?)\s*)\)$/,i.test(e);case"keyword":return a=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","transparent","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],a.indexOf(e.trim())>-1;case"rgb":return l=/^rgb\((\s*(\b([01]?\d{1,2}|2[0-4]\d|25[0-5])\b)\s*,){2}(\s*(\b([01]?\d{1,2}|2[0-4]\d|25[0-5])\b)\s*)\)$/,n=/^rgb\((\s*(\b(0?\d{1,2}|100)\b%)\s*,){2}(\s*(\b(0?\d{1,2}|100)\b%)\s*)\)$/,l.test(e)||n.test(e);case"rgba":return l=/^rgba\((\s*(\b([01]?\d{1,2}|2[0-4]\d|25[0-5])\b)\s*,){3}(\s*(0?(\.\d+)?|1(\.0+)?)\s*)\)$/,n=/^rgba\((\s*(\b(0?\d{1,2}|100)\b%)\s*,){3}(\s*(0?(\.\d+)?|1(\.0+)?)\s*)\)$/,l.test(e)||n.test(e)}})}.call(this),function(){VanillaFormValidator.addRule("email",function(e,t){var r;return""===e?!0:(r=/^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i,r.test(e))})}.call(this),function(){VanillaFormValidator.addRule("equal",function(e,t){var r,a,i;return a=t.form,r=a.elements[t.field],i=r.value,e===i})}.call(this),function(){VanillaFormValidator.addRule("file",function(e,t){var r,a,i,l;if(r=t.element,r.files.length<1)return!1;if(i=r.files[0],t.exts){if(i.name.split(".")<1)return!1;if(l=i.name.split("."),a=l[l.length-1],!(t.exts.indexOf(a)>-1))return!1}return!0})}.call(this),function(){VanillaFormValidator.addRule("length",function(e,t){return""===e?!0:t.length?e.length===t.length:t.min&&t.max?e.length>=t.min&&e.length<=t.max:t.min?e.length>=t.min:t.max?e.length<=t.max:void 0})}.call(this),function(){VanillaFormValidator.addRule("not_empty",function(e,t){return e.trim().length>0})}.call(this),function(){VanillaFormValidator.addRule("number",function(e,t){return""===e?!0:e-parseFloat(e)+1>=0})}.call(this),function(){VanillaFormValidator.addRule("regexp",function(e,t){var r;return""===e?!0:(r=t.regexp,r.test(e))})}.call(this),function(){VanillaFormValidator.addRule("remote",function(e,t){var r,a,i,l,n,o,s,d;return""===e?!0:(s=new XMLHttpRequest,o=t.url||"/",n=t.type||"GET",r=!1,i=t.name||t.element.name,d=null,"GET"===n?(a="?"+encodeURIComponent(i)+"="+encodeURIComponent(e),o+=a):d="?"+encodeURIComponent(i)+"="+encodeURIComponent(e),s.open(n,o,r),s.send(d),200===s.status?(l=JSON.parse(s.responseText),l.valid):!1)})}.call(this),function(){VanillaFormValidator.addRule("url",function(e,t){var r;return""===e?!0:(r=new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i"),r.test(e))})}.call(this);