(function(){this.VanillaFormValidator=function(){function e(e,r){null==r&&(r={}),this.form=e,this.opts=this.defaultOpts(r),this.fields={}}var r;return r=/(\[|\]|\(|\))/g,e.rules={},e.prototype.addField=function(e,r){this.fields[e]=r},e.prototype.addFields=function(e){var r,t;for(r in e)t=e[r],this.addField(r,t)},e.prototype.removeField=function(e){delete this.fields[e]},e.prototype.reset=function(){var e,r;return r=this,this.clearErrorMessages(),e=this.form.cloneNode(!0),this.form.parentNode.replaceChild(e,this.form),this.form=e},e.prototype.initLive=function(e){var r,t,a,i,l,n,o,s,d,u,m;for(null==e&&(e={}),e.submit_btn=e.submit_btn||!1,e.direct_live=e.direct_live||!1,d=this,u=e.direct_live?!0:!1,m=function(){var e;return e=d.valid(),e||d.validate(),e},e.submit_btn?submit_btn.addEventListener("click",function(e){return u=!0,m()?void 0:e.preventDefault()}):this.form.addEventListener("submit",function(e){return u=!0,m()?void 0:e.preventDefault()}),i=this.form.querySelectorAll("input, textarea"),s=["change","keyup","focus"],t=0,n=s.length;n>t;t++)for(r=s[t],l=0,o=i.length;o>l;l++)a=i[l],a.addEventListener(r,function(e){return u?d.validate():void 0})},e.prototype.valid=function(){var e,r,t,a,i,l,n,o;l=this,a=!0,i=this.fields;for(r in i){t=i[r],e=this.getFieldValidity(r);for(n in e)if(o=e[n],!o){a=!1;break}}return a},e.prototype.getFieldValidity=function(e){var r,t,a,i,l,n,o,s;if(t=this.fields[e],r=this.getDomField(e),!r)return!1;s=r.value,o=t.validators||{},i={};for(l in o)n=o[l],a=this.constructor.rules[l],n.element=r,n.form=this.form,i[l]=a(s,n);return i},e.prototype.errors=function(){var e,r,t,a,i,l,n,o,s;n=this,l={},i=this.fields;for(r in i){t=i[r],e=this.getFieldValidity(r);for(o in e)s=e[o],s||l[r]||(a=t.validators[o].message||t.message||!1,l[r]=a)}return l},e.prototype.validate=function(){var e,r,t,a,i;i=this,this.clearErrorMessages(),a=this.errors();for(r in a)t=a[r],e=i.getDomField(r),i.appendErrorMessageOn(e,t)},e.prototype.appendErrorMessageOn=function(e,t){var a,i,l,n,o,s;s=this.opts.error_html_tag,l=document.createElement(s),n=("vanilla_validator_error_"+e.name).replace(r,"_"),l.classList.add(this.opts.error_html_tag_class),l.id=n,l.innerHTML=t,o=this.opts.error_html_tag_styles;for(a in o)i=o[a],l.style[a]=i;return e.classList.add("vanilla-validator-error"),e.parentNode.insertBefore(l,e.nextSibling),e},e.prototype.clearErrorMessages=function(){var e,t,a,i,l,n;for(n=this.form.elements,i=0,l=n.length;l>i;i++)e=n[i],e.name&&e.type&&"submit"!==e.type&&(a=("#vanilla_validator_error_"+e.name).replace(r,"_"),t=this.form.querySelector(a),t&&(e.classList.remove("vanilla-validator-error"),t.parentNode.removeChild(t)))},e.prototype.getDomField=function(e){return this.form[e]},e.addRule=function(e,r){this.rules[e]=r},e.prototype.defaultOpts=function(e){var r,t,a;r={error_html_tag:"small",error_html_tag_class:["vanilla_validator_error"],error_html_tag_styles:{color:"red","font-size":"0.8em",display:"block"}};for(t in e)a=e[t],r[t]=a;return r},e}()}).call(this),function(){VanillaFormValidator.addRule("color",function(e,r){var t,a,i,l,n;if(""===e)return!0;switch(t=r.format||"hex"){case"hex":return i=/^#[0-9A-F]{6}$/i,i.test(e);case"hsl":return i=/^hsl\((\s*(-?\d+)\s*,)(\s*(\b(0?\d{1,2}|100)\b%)\s*,)(\s*(\b(0?\d{1,2}|100)\b%)\s*)\)$/,i.test(e);case"hsla":return i=/^hsla\((\s*(-?\d+)\s*,)(\s*(\b(0?\d{1,2}|100)\b%)\s*,){2}(\s*(0?(\.\d+)?|1(\.0+)?)\s*)\)$/,i.test(e);case"keyword":return a=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","transparent","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],a.indexOf(e.trim())>-1;case"rgb":return l=/^rgb\((\s*(\b([01]?\d{1,2}|2[0-4]\d|25[0-5])\b)\s*,){2}(\s*(\b([01]?\d{1,2}|2[0-4]\d|25[0-5])\b)\s*)\)$/,n=/^rgb\((\s*(\b(0?\d{1,2}|100)\b%)\s*,){2}(\s*(\b(0?\d{1,2}|100)\b%)\s*)\)$/,l.test(e)||n.test(e);case"rgba":return l=/^rgba\((\s*(\b([01]?\d{1,2}|2[0-4]\d|25[0-5])\b)\s*,){3}(\s*(0?(\.\d+)?|1(\.0+)?)\s*)\)$/,n=/^rgba\((\s*(\b(0?\d{1,2}|100)\b%)\s*,){3}(\s*(0?(\.\d+)?|1(\.0+)?)\s*)\)$/,l.test(e)||n.test(e)}})}.call(this),function(){VanillaFormValidator.addRule("email",function(e,r){var t;return""===e?!0:(t=/^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i,t.test(e))})}.call(this),function(){VanillaFormValidator.addRule("equal",function(e,r){var t,a,i;return a=r.form,t=a.elements[r.field],i=t.value,e===i})}.call(this),function(){VanillaFormValidator.addRule("file",function(e,r){var t,a,i,l;if(t=r.element,t.files.length<1)return!1;if(i=t.files[0],r.exts){if(i.name.split(".")<1)return!1;if(l=i.name.split("."),a=l[l.length-1],!(r.exts.indexOf(a)>-1))return!1}return!0})}.call(this),function(){VanillaFormValidator.addRule("length",function(e,r){return""===e?!0:r.length?e.length===r.length:r.min&&r.max?e.length>=r.min&&e.length<=r.max:r.min?e.length>=r.min:r.max?e.length<=r.max:void 0})}.call(this),function(){VanillaFormValidator.addRule("not_empty",function(e,r){return e.trim().length>0})}.call(this),function(){VanillaFormValidator.addRule("number",function(e,r){return""===e?!0:e-parseFloat(e)+1>=0?(e=parseFloat(e),r.max&&r.min?e<=r.max&&e>=r.min?!0:!1:r.max&&e<=r.max?!0:r.min&&e>=r.min?!0:void 0):!1})}.call(this),function(){VanillaFormValidator.addRule("numericality",function(e,r){return""===e?!0:e-parseFloat(e)+1>=0})}.call(this),function(){VanillaFormValidator.addRule("regexp",function(e,r){var t;return""===e?!0:(t=r.regexp,t.test(e))})}.call(this),function(){VanillaFormValidator.addRule("remote",function(e,r){var t,a,i,l,n,o,s,d,u,m,h,c,f;if(""===e)return!0;if(c=new XMLHttpRequest,m=r.url||"/",u=r.type||"GET",t=!1,i=r.name||r.element.name,f=null,o={},o[i]=e,r.params){d=r.params;for(n in d)h=d[n],o[n]=h}return s=function(e){var r;r=[];for(n in e)h=e[n],r.push(encodeURIComponent(n)+"="+encodeURIComponent(h));return r.join("&")},"GET"===u?(a="?"+s(o),m+=a):f=""+s(o),c.open(u,m,t),c.send(f),200===c.status?(l=JSON.parse(c.responseText),l.valid):!1})}.call(this),function(){VanillaFormValidator.addRule("url",function(e,r){var t;return""===e?!0:(t=new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i"),t.test(e))})}.call(this);